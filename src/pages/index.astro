---
import BaseLayout from "../layouts/BaseLayout.astro";
import { profile } from "../data/profile";
import { getEntry } from "astro:content";

const entry = await getEntry("home", "bio");
if (!entry) {
  throw new Error("Missing bio content entry.");
}
const { Content } = await entry.render();
---

<BaseLayout title={entry.data.title} description={entry.data.description ?? ""} canonicalPath="/">
  <section class="hero-template">
    <div class="hero-template-content">
      <figure class="hero-avatar-wrap">
        <img class="hero-avatar" src={profile.photoPath} alt={`Portrait of ${profile.fullName}`} loading="eager" />
      </figure>
      <div class="hero-intro">
        <h1>Hi, I'm {profile.fullName}</h1>
        <p class="hero-title">{profile.title}</p>
        <p class="hero-location">{profile.institution}</p>
        <article class="prose">
          <Content />
        </article>
        <div class="hero-actions">
          <div class="hero-socials" aria-label="Social links">
            <a href={`mailto:${profile.email}`} aria-label="Email">
              <img src="/icons/email.svg" alt="" />
            </a>
            <a href={profile.socials.googleScholar || "https://scholar.google.com/"} aria-label="Google Scholar">
              <img src="/icons/google-scholar.svg" alt="" />
            </a>
            <a href={profile.socials.github} aria-label="GitHub">
              <img src="/icons/github.svg" alt="" />
            </a>
            <a href={profile.socials.orcid} aria-label="ORCID">
              <img src="/icons/orcid.svg" alt="" />
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

</BaseLayout>
