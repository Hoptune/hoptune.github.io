---
const pathname = Astro.url.pathname;
const links = [
  { href: "/", label: "Home" },
  { href: "/research", label: "Research" },
  { href: "/publications", label: "Publications" }
];
---

<nav class="site-nav" aria-label="Primary">
  <a class="brand" href="/">
    <img src="/logo.png" alt="Site logo" />
    <span>Zhiwei's Personal Website</span>
  </a>
  <ul>
    {
      links.map((link) => {
        const isActive = pathname === link.href || (link.href !== "/" && pathname.startsWith(link.href));
        return (
          <li>
            <a href={link.href} aria-current={isActive ? "page" : undefined}>{link.label}</a>
          </li>
        );
      })
    }
  </ul>
</nav>
